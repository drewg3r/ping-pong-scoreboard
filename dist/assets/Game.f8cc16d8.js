import{_ as c,s as d}from"./plugin-vue_export-helper.ccbf01d2.js";import{o as a,c as l,d as e,t as r,a as h,F as _,e as u}from"./index.a4eb2b7b.js";const y={data(){return{store:d,player1Score:0,player2Score:0,servesCount:0,servingPlayer:null,lastPlayer:-1,undoData:[]}},methods:{checkForWin(){return this.player1Score>=this.store.scoreToWin&&this.player1Score>this.player2Score+1?1:this.player2Score>=this.store.scoreToWin&&this.player2Score>this.player1Score+1?2:-1},turn(o){this.undoData=[this.player1Score,this.player2Score,this.servesCount,this.servingPlayer],o==1?this.player1Score++:this.player2Score++,this.servingPlayer!=o?(this.servingPlayer=o,this.servesCount=0):this.servesCount++,this.lastPlayer=o;let s=this.checkForWin();s!=-1&&(this.store.winner=s,this.store.player1Score=this.player1Score,this.store.player2Score=this.player2Score,this.$router.push("/win"))},scoreUndo(){this.player1Score=this.undoData[0],this.player2Score=this.undoData[1],this.servesCount=this.undoData[2],this.servingPlayer=this.undoData[3],this.undoData=[]},endGame(){confirm("Are you sure want to end this game?")&&(this.store.showGameFinishedAlert=!0,this.$router.push("/"))}},computed:{servingPlayerName(){return this.servesCount==2&&(this.servesCount=0,this.servingPlayer==1?this.servingPlayer=2:this.servingPlayer=1),this.servingPlayer==1?this.store.player1Name:this.store.player2Name}},mounted(){this.servingPlayer=this.store.firstServePlayer}},p={class:"row"},v={class:"col-6"},m={class:"card text-bg-primary mb-3"},b={class:"card-body text-center"},f={class:"fs-1"},g={class:"card-footer bg-transparent text-center"},S={class:"col-6"},P={class:"card text-bg-danger mb-3"},x={class:"card-body text-center"},C={class:"fs-1"},k={class:"card-footer bg-transparent text-center"},N=e("hr",null,null,-1),w={class:"text-center mt-2 mb-3"},D={class:"fs-2"},W={key:0},T=e("br",null,null,-1),F=u("Additional serves"),G=[T,F],A=e("div",{class:"text-center"},null,-1),B={class:"row mb-4"},U={class:"col-6"},V={class:"col-6"},E=e("hr",null,null,-1),j={class:"row"},q={class:"col-6"},z={class:"fs-4"},H={class:"col-6 text-end"},I={class:"btn-group",role:"group"},J=["disabled"];function K(o,s,L,M,t,i){return a(),l(_,null,[e("div",p,[e("div",v,[e("div",m,[e("div",b,[e("span",f,r(t.player1Score),1)]),e("div",g,r(t.store.player1Name),1)])]),e("div",S,[e("div",P,[e("div",x,[e("span",C,r(t.player2Score),1)]),e("div",k,r(t.store.player2Name),1)])])]),N,e("div",w,[e("span",D,r(i.servingPlayerName)+" serves!",1),t.player1Score>=this.store.scoreToWin||t.player2Score>=this.store.scoreToWin?(a(),l("span",W,G)):h("",!0)]),A,e("div",B,[e("div",U,[e("a",{class:"btn btn-outline-primary d-block",onClick:s[0]||(s[0]=n=>{i.turn(2)})},r(t.store.player1Name)+" lost",1)]),e("div",V,[e("a",{class:"btn btn-outline-danger d-block",onClick:s[1]||(s[1]=n=>{i.turn(1)})},r(t.store.player2Name)+" lost",1)])]),E,e("div",j,[e("div",q,[e("span",z,"Score to win: "+r(t.store.scoreToWin),1)]),e("div",H,[e("div",I,[e("button",{onClick:s[2]||(s[2]=n=>i.scoreUndo()),type:"button",class:"btn btn-secondary",disabled:t.undoData.length==0},"Undo",8,J),e("button",{onClick:s[3]||(s[3]=n=>i.endGame()),class:"btn btn-danger"},"End game")])])])],64)}const R=c(y,[["render",K]]);export{R as default};
